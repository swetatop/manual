<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–í—Ö–æ–¥ | Ukraine GTA 5</title>
    <style>
        body { background: #0f1419; color: white; font-family: sans-serif; text-align: center; padding: 50px; }
        .telegram-btn {
            background: #0088cc;
            color: white;
            padding: 20px 40px;
            border-radius: 12px;
            border: none;
            font-size: 18px;
            cursor: pointer;
            margin: 30px;
            display: inline-flex;
            align-items: center;
            gap: 15px;
        }
        .telegram-btn:hover { background: #0077b5; }
    </style>
</head>
<body>
    <h1>Ukraine GTA 5</h1>
    <p>–í—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram</p>
    
    <!-- –í–∏–¥–∂–µ—Ç -->
    <div style="margin: 40px;">
        <script async 
            src="https://telegram.org/js/telegram-widget.js?22" 
            data-telegram-login="UGgtavBot"
            data-auth-url="https://swetatop.github.io/manual/auth-handler.html"
            data-size="large"
            data-radius="20">
        </script>
    </div>
    
    <!-- –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
    <div id="fallback" style="display: none; margin-top: 30px;">
        <p>–í–∏–¥–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ:</p>
        <button onclick="fallbackLogin()" class="telegram-btn">
            üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram
        </button>
    </div>
    
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
            const iframes = document.querySelectorAll('iframe[src*="telegram.org"]');
            if(iframes.length === 0) {
                document.getElementById('fallback').style.display = 'block';
            }
        }, 3000);
        
        // –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥
        function fallbackLogin() {
            const random = Date.now();
            // –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
            window.location.href = `tg://resolve?domain=UGgtavBot&start=login_${random}`;
            
            // –ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å, —á–µ—Ä–µ–∑ 500–º—Å –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤–µ–± –≤–µ—Ä—Å–∏—é
            setTimeout(() => {
                window.location.href = `https://t.me/UGgtavBot?start=login_${random}`;
            }, 500);
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤–µ—Ä–Ω—É–ª–∏—Å—å –ª–∏ –º—ã —É–∂–µ —Å –¥–∞–Ω–Ω—ã–º–∏
        if(window.location.hash && window.location.hash.includes('id=')) {
            console.log('–£–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ:', window.location.hash);
            // –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ auth-handler.html
            // window.location.href = 'auth-handler.html' + window.location.hash;
        }
    </script>
</body>
</html>
