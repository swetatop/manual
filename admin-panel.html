<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Адмін-панель | Ukraine GTA 5</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg-dark:#0C1016;--bg-card:#141A24;--primary:#3B82F6;--primary-dark:#2563EB;--text-light:#F8FAFC;--text-gray:#94A3B8;--border:#2D3748;--success:#10B981;--warning:#F59E0B;--danger:#EF4444;}
    *{margin:0;padding:0;box-sizing:border-box}
    body{background-color:var(--bg-dark);color:var(--text-light);min-height:100vh;font-family:'Montserrat',sans-serif;padding:20px}
    .container{max-width:1200px;margin:0 auto}
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:40px;padding-bottom:20px;border-bottom:2px solid var(--primary)}
    .header h1{font-size:2rem;background:linear-gradient(90deg,#3B82F6,#8B5CF6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .header-actions{display:flex;gap:15px;align-items:center}
    .stats-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:40px}
    .stat-card{background:var(--bg-card);border-radius:12px;padding:25px;border:1px solid var(--border);display:flex;align-items:center;gap:20px}
    .stat-icon{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem}
    .stat-info h3{font-size:.9rem;color:var(--text-gray);margin-bottom:5px;text-transform:uppercase;letter-spacing:1px}
    .stat-number{font-size:2rem;font-weight:700;color:var(--text-light)}
    .users-table{background:var(--bg-card);border-radius:12px;padding:30px;border:1px solid var(--border);margin-bottom:30px}
    .table-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}
    .table-header h2{font-size:1.5rem;color:var(--text-light)}
    .search-box{display:flex;gap:10px}
    .search-input{padding:10px 15px;background:rgba(30,41,59,.5);border:1px solid var(--border);border-radius:8px;color:var(--text-light);min-width:250px}
    table{width:100%;border-collapse:collapse}
    th{text-align:left;padding:15px;color:var(--text-gray);font-weight:600;border-bottom:1px solid var(--border);font-size:.9rem;text-transform:uppercase;letter-spacing:1px}
    td{padding:15px;border-bottom:1px solid rgba(45,55,72,.3);color:var(--text-light)}
    tr:hover{background:rgba(30,41,59,.3)}
    .status-badge{padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:600;display:inline-block}
    .status-pending{background:rgba(245,158,11,.15);color:var(--warning)}
    .status-approved{background:rgba(16,185,129,.15);color:var(--success)}
    .status-rejected{background:rgba(239,68,68,.15);color:var(--danger)}
    .status-banned{background:rgba(239,68,68,.25);color:var(--danger)}
    .action-buttons{display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:8px 15px;border:none;border-radius:6px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:5px}
    .btn-sm{padding:6px 12px;font-size:.8rem}
    .btn-success{background:var(--success);color:#fff}
    .btn-warning{background:var(--warning);color:#fff}
    .btn-danger{background:var(--danger);color:#fff}
    .btn-primary{background:var(--primary);color:#fff}
    .btn:hover{opacity:.9;transform:translateY(-2px)}
    .message{padding:15px;border-radius:8px;margin-bottom:20px;display:none}
    .message-success{background:rgba(16,185,129,.15);border:1px solid var(--success);color:var(--success)}
    .message-error{background:rgba(239,68,68,.15);border:1px solid var(--danger);color:var(--danger)}
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:1000;align-items:center;justify-content:center}
    .modal-content{background:var(--bg-card);border-radius:12px;padding:30px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;border:1px solid var(--border)}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    .modal-close{background:none;border:none;color:var(--text-gray);font-size:1.5rem;cursor:pointer}
    @media (max-width:768px){
      .stats-cards{grid-template-columns:1fr}
      .table-header{flex-direction:column;gap:15px;align-items:flex-start}
      .search-box{width:100%}
      .search-input{width:100%;min-width:auto}
      table{display:block;overflow-x:auto}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-crown"></i> Адмін-панель</h1>
      <div class="header-actions">
        <button class="btn btn-primary" onclick="window.location.href='index.html'">
          <i class="fas fa-home"></i> До посібника
        </button>
        <button class="btn btn-danger" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i> Вийти
        </button>
      </div>
    </div>

    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(59,130,246,.2); color: var(--primary);">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
          <h3>Всього користувачів</h3>
          <div class="stat-number" id="totalUsers">0</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(245,158,11,.2); color: var(--warning);">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-info">
          <h3>Очікують підтвердження</h3>
          <div class="stat-number" id="pendingUsers">0</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(16,185,129,.2); color: var(--success);">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-info">
          <h3>Підтверджені</h3>
          <div class="stat-number" id="approvedUsers">0</div>
        </div>
      </div>
    </div>

    <div class="message" id="message"></div>

    <div class="users-table">
      <div class="table-header">
        <h2>Керування користувачами</h2>
        <div class="search-box">
          <input type="text" id="searchInput" class="search-input" placeholder="Пошук за email або нікнеймом..." onkeyup="searchUsers()">
          <button class="btn btn-primary" onclick="refreshUsers()">
            <i class="fas fa-sync-alt"></i> Оновити
          </button>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Нікнейм</th>
            <th>Статус</th>
            <th>Дата реєстрації</th>
            <th>Дії</th>
          </tr>
        </thead>
        <tbody id="usersTableBody"></tbody>
      </table>
    </div>
  </div>

  <div class="modal" id="confirmModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Підтвердження дії</h3>
        <button class="modal-close" onclick="closeModal()">&times;</button>
      </div>
      <p id="modalText">Ви впевнені, що хочете виконати цю дію?</p>
      <div style="display:flex; gap:10px; margin-top:20px;">
        <button class="btn btn-success" id="confirmBtn">Так</button>
        <button class="btn btn-danger" onclick="closeModal()">Скасувати</button>
      </div>
    </div>
  </div>

  <script type="module" src="./js/admin.js"></script>
</body>
</html>
