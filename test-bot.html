<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç Telegram Bot</title>
    <style>
        body { 
            font-family: sans-serif; 
            padding: 20px; 
            background: #0C1016;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 { 
            color: #0088cc;
            margin-bottom: 30px;
            text-align: center;
        }
        .test-section {
            background: #1E293B;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        button { 
            padding: 10px 20px; 
            margin: 5px; 
            cursor: pointer; 
            background: #0088cc;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        button:hover {
            background: #0077b5;
            transform: translateY(-2px);
        }
        .result { 
            margin-top: 20px; 
            padding: 15px; 
            background: #141A24; 
            border-radius: 5px; 
            font-family: monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            border-left: 4px solid #0088cc;
        }
        .status-success { color: #10B981; }
        .status-error { color: #EF4444; }
        .status-warning { color: #F59E0B; }
        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3B82F6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Telegram Bot</h1>
        
        <div class="info-box">
            <p><strong>–ë–æ—Ç:</strong> @UGgtavBot</p>
            <p><strong>Token:</strong> 8506586970:AAEEhVuyML6qBI5nG3U5HlgjaN2B0pR1xeA</p>
            <p><strong>–ê–¥–º—ñ–Ω ID:</strong> 5316593741</p>
            <p><strong>–°–∞–π—Ç:</strong> https://swetatop.github.io/manual/</p>
        </div>
        
        <div class="test-section">
            <h3>1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–æ—Ç–∞</h3>
            <button onclick="testGetMe()">üì± /getMe - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±–æ—Ç–∞</button>
            <button onclick="testGetUpdates()">üîÑ /getUpdates - –û—Å—Ç–∞–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button>
            
            <div class="result" id="result1"></div>
        </div>
        
        <div class="test-section">
            <h3>2. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å</h3>
            <button onclick="testSendMessage()">‚úâÔ∏è –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button>
            <button onclick="testSendMessageWithButtons()">üîò –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏</button>
            <button onclick="testSendMarkdown()">üìù –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ Markdown</button>
            
            <div class="result" id="result2"></div>
        </div>
        
        <div class="test-section">
            <h3>3. –¢–µ—Å—Ç –∑–∞–ø–∏—Ç—É –¥–æ—Å—Ç—É–ø—É</h3>
            <button onclick="testAccessRequest()">üîî –¢–µ—Å—Ç –∑–∞–ø–∏—Ç—É –¥–æ—Å—Ç—É–ø—É (—è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á)</button>
            <button onclick="testAdminNotification()">üëë –¢–µ—Å—Ç —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—É (—è–∫ —Å–∏—Å—Ç–µ–º–∞)</button>
            
            <div class="result" id="result3"></div>
        </div>
        
        <div class="test-section">
            <h3>4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <button onclick="showStats()">üìä –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            
            <div class="result" id="result4"></div>
        </div>
    </div>
    
    <script>
        const BOT_TOKEN = "8506586970:AAEEhVuyML6qBI5nG3U5HlgjaN2B0pR1xeA";
        const ADMIN_ID = "5316593741";
        const SITE_URL = "https://swetatop.github.io/manual/";
        const TEST_USER_ID = "8508096040"; // –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        
        function log(containerId, message, type = 'info') {
            const result = document.getElementById(containerId);
            const timestamp = new Date().toLocaleTimeString('uk-UA');
            const colorClass = `status-${type}`;
            
            result.innerHTML = `<div class="${colorClass}">[${timestamp}] ${message}</div>` + result.innerHTML;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        async function testGetMe() {
            log('result1', 'üîÑ –ó–∞–ø–∏—Ç /getMe...', 'info');
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getMe`);
                const data = await response.json();
                
                if (data.ok) {
                    log('result1', `‚úÖ –ë–æ—Ç –ø—Ä–∞—Ü—é—î!`, 'success');
                    log('result1', `üìù –Ü–º'—è: ${data.result.first_name}`, 'success');
                    log('result1', `üë§ Username: @${data.result.username}`, 'success');
                    log('result1', `üÜî ID: ${data.result.id}`, 'success');
                } else {
                    log('result1', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                }
            } catch (error) {
                log('result1', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testGetUpdates() {
            log('result1', 'üîÑ –ó–∞–ø–∏—Ç /getUpdates...', 'info');
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getUpdates`);
                const data = await response.json();
                
                if (data.ok) {
                    if (data.result.length > 0) {
                        log('result1', `‚úÖ –û—Ç—Ä–∏–º–∞–Ω–æ ${data.result.length} –æ–Ω–æ–≤–ª–µ–Ω—å`, 'success');
                        data.result.slice(0, 3).forEach(update => {
                            log('result1', `üì© Update ID: ${update.update_id}`, 'info');
                            if (update.message) {
                                log('result1', `  üë§ –í—ñ–¥: ${update.message.from.first_name} (${update.message.from.id})`, 'info');
                                log('result1', `  üí¨ –¢–µ–∫—Å—Ç: ${update.message.text || '(–Ω–µ–º–∞—î —Ç–µ–∫—Å—Ç—É)'}`, 'info');
                            }
                        });
                    } else {
                        log('result1', `üì≠ –ù–µ–º–∞—î –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å`, 'warning');
                    }
                } else {
                    log('result1', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                }
            } catch (error) {
                log('result1', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testSendMessage() {
            log('result2', 'üîÑ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—É...', 'info');
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: "üõ†Ô∏è –¢–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ test-bot.html\n\n–ß–∞—Å: " + new Date().toLocaleTimeString('uk-UA'),
                        parse_mode: 'HTML'
                    })
                });
                
                const data = await response.json();
                if (data.ok) {
                    log('result2', `‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
                    log('result2', `üìù Message ID: ${data.result.message_id}`, 'success');
                } else {
                    log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                }
            } catch (error) {
                log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testSendMessageWithButtons() {
            log('result2', 'üîÑ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏...', 'info');
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: "üîò –¢–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏",
                        reply_markup: {
                            inline_keyboard: [[
                                { 
                                    text: "‚úÖ –¢–µ—Å—Ç–æ–≤–∞ –∫–Ω–æ–ø–∫–∞", 
                                    url: `${SITE_URL}bot-handler.html?action=test&user_id=123456` 
                                },
                                { 
                                    text: "üåê –°–∞–π—Ç", 
                                    url: SITE_URL
                                }
                            ]]
                        }
                    })
                });
                
                const data = await response.json();
                if (data.ok) {
                    log('result2', `‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
                } else {
                    log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                }
            } catch (error) {
                log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testSendMarkdown() {
            log('result2', 'üîÑ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ Markdown...', 'info');
            
            const message = `*üìù –¢–µ—Å—Ç Markdown*

‚úÖ *–ñ–∏—Ä–Ω–∏–π —Ç–µ–∫—Å—Ç*
üîò _–ö—É—Ä—Å–∏–≤_
üîó [–ü–æ—Å–∏–ª–∞–Ω–Ω—è](${SITE_URL})
\`–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–∏–π —Ç–µ–∫—Å—Ç\`

üìä –°–ø–∏—Å–æ–∫:
1. –ü–µ—Ä—à–∏–π –ø—É–Ω–∫—Ç
2. –î—Ä—É–≥–∏–π –ø—É–Ω–∫—Ç
3. –¢—Ä–µ—Ç—ñ–π –ø—É–Ω–∫—Ç`;

            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
                
                const data = await response.json();
                if (data.ok) {
                    log('result2', `‚úÖ Markdown –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
                } else {
                    log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                    log('result2', `‚ÑπÔ∏è –°–ø—Ä–æ–±–∞ –±–µ–∑ Markdown...`, 'info');
                    
                    // –ü—Ä–æ–±—É–µ–º –±–µ–∑ Markdown
                    const simpleResponse = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: ADMIN_ID,
                            text: message.replace(/[*_`]/g, '')
                        })
                    });
                    
                    const simpleData = await simpleResponse.json();
                    if (simpleData.ok) {
                        log('result2', `‚úÖ –ü—Ä–æ—Å—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ`, 'success');
                    }
                }
            } catch (error) {
                log('result2', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testAccessRequest() {
            log('result3', 'üîÑ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –¥–æ—Å—Ç—É–ø—É...', 'info');
            
            const approveUrl = `${SITE_URL}bot-handler.html?action=approve&user_id=${TEST_USER_ID}`;
            const rejectUrl = `${SITE_URL}bot-handler.html?action=reject&user_id=${TEST_USER_ID}`;
            
            const message = `üîî *–¢–ï–°–¢–û–í–ò–ô –ó–ê–ü–ò–¢ –î–û–°–¢–£–ü–£*

üë§ *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:* –¢–µ—Å—Ç–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á (@test_user)
üÜî *ID:* ${TEST_USER_ID}
‚è∞ *–ß–∞—Å:* ${new Date().toLocaleTimeString('uk-UA')}

*–ù–∞–¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ Ukraine GTA 5?*`;
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: message,
                        parse_mode: 'Markdown',
                        reply_markup: {
                            inline_keyboard: [[
                                { text: "‚úÖ –ü–Ü–î–¢–í–ï–†–î–ò–¢–ò", url: approveUrl },
                                { text: "‚ùå –í–Ü–î–•–ò–õ–ò–¢–ò", url: rejectUrl }
                            ]]
                        }
                    })
                });
                
                const data = await response.json();
                if (data.ok) {
                    log('result3', `‚úÖ –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º—ñ–Ω—É!`, 'success');
                    log('result3', `üîó Approve URL: ${approveUrl}`, 'info');
                    log('result3', `üîó Reject URL: ${rejectUrl}`, 'info');
                } else {
                    log('result3', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                    
                    // –ü—Ä–æ–±—É–µ–º –ø—Ä–æ—Å—Ç—É—é –≤–µ—Ä—Å–∏—é
                    const simpleResponse = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: ADMIN_ID,
                            text: `üîî –¢–ï–°–¢–û–í–ò–ô –ó–ê–ü–ò–¢ –î–û–°–¢–£–ü–£ –≤—ñ–¥ –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (ID: ${TEST_USER_ID})\n\n–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏: ${approveUrl}\n–í—ñ–¥—Ö–∏–ª–∏—Ç–∏: ${rejectUrl}`
                        })
                    });
                    
                    const simpleData = await simpleResponse.json();
                    if (simpleData.ok) {
                        log('result3', `‚úÖ –ü—Ä–æ—Å—Ç–∏–π –∑–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ`, 'success');
                    }
                }
            } catch (error) {
                log('result3', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        async function testAdminNotification() {
            log('result3', 'üîÑ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É...', 'info');
            
            const message = `üéâ *–¢–ï–°–¢–û–í–ï –°–ü–û–í–Ü–©–ï–ù–ù–Ø*

–¶–µ —Ç–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∑ —Å–∏—Å—Ç–µ–º–∏ Ukraine GTA 5.

‚úÖ *–°—Ç–∞—Ç—É—Å:* –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ
‚è∞ *–ß–∞—Å:* ${new Date().toLocaleTimeString('uk-UA')}

–î—è–∫—É—î–º–æ –∑–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞—à–æ—ó —Å–∏—Å—Ç–µ–º–∏!`;
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TEST_USER_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
                
                const data = await response.json();
                if (data.ok) {
                    log('result3', `‚úÖ –¢–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É!`, 'success');
                } else {
                    log('result3', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.description}`, 'error');
                    
                    if (data.description.includes('bot was blocked')) {
                        log('result3', `‚ö†Ô∏è –ë–æ—Ç –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º`, 'warning');
                    } else if (data.description.includes('chat not found')) {
                        log('result3', `‚ö†Ô∏è –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –ø–æ—á–∞–≤ –¥—ñ–∞–ª–æ–≥ –∑ –±–æ—Ç–æ–º`, 'warning');
                    }
                }
            } catch (error) {
                log('result3', `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è: ${error.message}`, 'error');
            }
        }
        
        function showStats() {
            log('result4', 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:', 'info');
            log('result4', `ü§ñ –ë–æ—Ç: @UGgtavBot`, 'info');
            log('result4', `üîë Token (–ø–µ—Ä—à—ñ 10 —Å–∏–º–≤–æ–ª—ñ–≤): ${BOT_TOKEN.substring(0, 10)}...`, 'info');
            log('result4', `üëë –ê–¥–º—ñ–Ω ID: ${ADMIN_ID}`, 'info');
            log('result4', `üåê –°–∞–π—Ç: ${SITE_URL}`, 'info');
            log('result4', `üïê –ß–∞—Å —Å–µ—Ä–≤–µ—Ä–∞: ${new Date().toLocaleString('uk-UA')}`, 'info');
            log('result4', `üåê User Agent: ${navigator.userAgent}`, 'info');
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –±–æ—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            log('result1', 'üöÄ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–ø—É—â–µ–Ω–æ...', 'info');
            setTimeout(testGetMe, 1000);
        };
    </script>
</body>
</html>
